# AWS Configuration
# The AWS region where your resources are located
AWS_REGION=us-east-1

# Your AWS Account ID (12-digit number)
AWS_ACCOUNT_ID=123456789012

# S3 bucket containing Terraform state files
TF_STATE_BUCKET=my-terraform-state-bucket

# Path to Terraform state configuration file (relative to project root)
TF_STATE_CONFIG=config/terraform-states.yml

# Database Configuration
# SQLite database URL for local development
# For production, use PostgreSQL: postgresql://user:password@host:5432/dbname
DATABASE_URL=sqlite:///./data/app.db

# Application Configuration
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable debug mode (true for development, false for production)
DEBUG=true

# CORS Configuration
# Comma-separated list of allowed origins for CORS
# Include both standard dev port (3000) and Vite default (5173)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Security Configuration
# Secret key for session signing - MUST be changed in production
# Generate a secure random key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SESSION_SECRET=dev-secret-change-in-production

# =============================================================================
# Authentication Configuration
# =============================================================================

# Local Authentication
# Enable local username/password authentication (default: true)
LOCAL_AUTH_ENABLED=true

# Admin Setup
# On first deployment, you will be prompted to create an admin account
# via the web UI at /setup. Alternatively, set the following to auto-create
# the admin user on startup (persists across redeployments):
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=YourStr0ng!Password

# Token expiration settings
# Access token expiration time in minutes (default: 30)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration time in days (default: 7)
REFRESH_TOKEN_EXPIRE_DAYS=7

# OIDC Authentication (Optional)
# Leave empty to disable OIDC authentication
# OIDC issuer URL (e.g., https://your-domain.okta.com, https://accounts.google.com)
OIDC_ISSUER=

# OIDC client ID from your identity provider
OIDC_CLIENT_ID=

# OIDC client secret from your identity provider
# IMPORTANT: Use secrets manager or vault in production, not environment variables
OIDC_CLIENT_SECRET=

# Frontend URL for SSO callback redirects
# Required for OIDC authentication to redirect back to the correct frontend URL
# Set this to your frontend's externally accessible URL (e.g., http://192.168.1.100:3000)
# If not set, falls back to first CORS_ORIGINS value
FRONTEND_URL=

# =============================================================================
# CyberArk Integration (Optional)
# =============================================================================

# Enable CyberArk integration (default: false)
CYBERARK_ENABLED=false

# CyberArk Privilege Cloud base URL
# CYBERARK_BASE_URL=https://your-tenant.privilegecloud.cyberark.cloud

# CyberArk Identity tenant URL
# CYBERARK_IDENTITY_URL=https://your-tenant.id.cyberark.cloud

# CyberArk API credentials (service account with read permissions)
# IMPORTANT: Use secrets manager or vault in production
# CYBERARK_CLIENT_ID=
# CYBERARK_CLIENT_SECRET=

# Terraform resource type overrides for the idsec provider
# Override these if your idsec provider uses different resource type names
# CYBERARK_TF_SAFE_TYPE=idsec_safe
# CYBERARK_TF_ACCOUNT_TYPE=idsec_privileged_account
# CYBERARK_TF_ROLE_TYPE=idsec_role
# CYBERARK_TF_SIA_VM_POLICY_TYPE=idsec_sia_vm_policy
# CYBERARK_TF_SIA_DB_POLICY_TYPE=idsec_sia_db_policy

# Frontend Configuration (used by Vite)
# VITE_API_URL: Leave unset to use relative URLs (/api) - browser makes requests to same host
# VITE_PROXY_TARGET: Where Vite dev server proxies /api requests (Docker uses 'backend:8000')
# VITE_API_URL=/api (default - automatically set by code)
VITE_PROXY_TARGET=http://backend:8000
